
Yandex Test

Проект содержит решение тестовой задачи от Yandex. Решение выполнено в MS Visual Studio 2010.

Описание

Допустим, у вас есть данные, которые представлены в виде заголовка с фиксированным размером:

struct test {

unsigned char key64; uint64_t flags; uint64_t crc; uint64_t size; }; где key — случайный набор байт, а size — случайная величина от 0 до 100 Мб. Остальные параметры несущественны. У вас есть файл, в котором находится очень много таких структур, причем после каждого такого заголовка идут $size байт с данными (пусть это будут нули).

Т.е.:

[key0, flags, crc, size0][... $size0 bytes ...] [key1, flags, crc, size1][... $size1 bytes ...] [key2, flags, crc, size2][... $size2 bytes ...]

....

[keyN, flags, crc, sizeN][... $sizeN bytes ...] Суммарный размер всех записей (размер файла с данными) — 20 Гб и больше. Требуется отсортировать файл по ключам. Размер памяти ограничен 8Гб, размер диска не ограничен. Напишите оптимизированное решение — то, которое работает максимально быстро с учетом указанных системных ограничений. В качестве решения можете прислать нам публичную ссылку на код проекта.
